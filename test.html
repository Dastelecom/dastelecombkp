<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SmartBiller — EMI & Loan Management</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
        }
      }
    }
  </script>
  <style>
    .bank-logo{width:48px;height:48px;object-fit:contain;}
    .details-box{display:none;transition:all .25s ease-in-out}
    .details-box.active{display:table-row;background-color:rgba(31,41,55,.6)}

    @keyframes soft-pulse {
      0% { box-shadow:0 0 0 0 rgba(245,158,11,0.0); }
      50% { box-shadow:0 0 18px 6px rgba(245,158,11,.2); }
      100% { box-shadow:0 0 0 0 rgba(245,158,11,.0); }
    }
    .pulse-warning { animation:soft-pulse 1.8s infinite ease-in-out; }

    @keyframes fadeIn {
      from { opacity:0; transform:translateY(10px); }
      to { opacity:1; transform:translateY(0); }
    }
    .animate-fade-in { animation:fadeIn .5s ease-out forwards; }
    .animate-fade-in-delay-1 { opacity:0; animation:fadeIn .5s ease-out forwards; animation-delay:.1s; }
    .animate-fade-in-delay-2 { opacity:0; animation:fadeIn .5s ease-out forwards; animation-delay:.2s; }
    .animate-fade-in-delay-3 { opacity:0; animation:fadeIn .5s ease-out forwards; animation-delay:.3s; }

    .glass-effect {
      background:rgba(17,24,39,0.7);
      backdrop-filter:blur(8px);
      border:1px solid rgba(255,255,255,0.08);
    }

    .premium-table-row{transition:all .2s ease;}
    .premium-table-row:hover {
      background-color:rgba(59,130,246,.15);
      transform:translateY(-2px);
      box-shadow:0 6px 14px rgba(0,0,0,.25);
    }
  </style>
</head>

<body class="bg-[#0f172a] text-gray-100 min-h-screen flex flex-col">

  <main class="flex-1 flex flex-col items-center py-6 px-4">

    <!-- DEALER INFORMATION CARD -->
    <div class="bg-gray-800/90 rounded-2xl p-6 w-full max-w-[1400px] mb-8 border border-gray-700/50 shadow-xl">

      <h1 class="text-2xl font-bold text-center mb-6 text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300 tracking-wide">
        Dealer Information
      </h1>

      <!-- ROW 1: Dealer Info -->
      <div class="w-full flex items-center justify-between gap-3 flex-wrap bg-gray-700/40 p-4 rounded-lg border border-gray-600">

        <div class="flex items-center">
          <span class="text-gray-400 font-medium">Dealer Name:</span>
          <span class="font-semibold text-white ml-1">Dastelecom</span>
        </div>

        <div class="flex items-center">
          <span class="text-gray-400 font-medium">Dealer Code:</span>
          <span id="dealerCode" class="font-semibold text-white ml-1">DLR1023</span>
          <svg class="w-5 h-5 text-green-400 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
        </div>

        <div class="flex items-center">
          <span class="text-gray-400 font-medium">Contact:</span>
          <span class="font-semibold text-white ml-1">+91 9831129608</span>
        </div>

        <div class="flex items-center">
          <span class="text-gray-400 font-medium">Email:</span>
          <span class="font-semibold text-white ml-1">rajudas1977bkp@gmail.com</span>
        </div>

        <div class="flex items-center">
          <span class="text-gray-400 font-medium">Location:</span>
          <span class="font-semibold text-white ml-1">Barrackpore, West Bengal</span>
        </div>

      </div>

      <!-- ROW 2: EMI Partner Selection (RIGHT ALIGNED) -->
      <div class="w-full flex justify-end mt-6">

        <div class="w-full md:w-[60%] lg:w-[50%]">

          <h2 class="text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-indigo-300 mb-4">
            EMI Partner Selection
          </h2>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">

            <!-- IDFC -->
            <div class="partner-option cursor-pointer" 
               data-partner="IDFC FIRST BANK"
               data-logo="IDFC FIRST BANK.png"
               data-dealer="DLR-IDFC1023">

              <div class="bg-gray-800/80 rounded-xl border border-gray-600 hover:border-blue-400 transition p-4 flex items-center gap-4">
                <img src="IDFC FIRST BANK.png" class="bank-logo" />
                <div>
                  <h3 class="font-bold">IDFC FIRST BANK</h3>
                  <p class="text-gray-400 text-sm">Dealer Code: DLR-IDFC1023</p>
                </div>
                <div class="ml-auto partner-radio w-5 h-5 border border-gray-400 rounded-full flex items-center justify-center">
                  <div class="partner-radio-dot hidden w-3 h-3 rounded-full bg-blue-400"></div>
                </div>
              </div>

            </div>

            <!-- TVS -->
            <div class="partner-option cursor-pointer" 
               data-partner="TVS CREDIT"
               data-logo="TVS Credit.png"
               data-dealer="CD40104">

              <div class="bg-gray-800/80 rounded-xl border border-gray-600 hover:border-blue-400 transition p-4 flex items-center gap-4">
                <img src="TVS Credit.png" class="bank-logo" />
                <div>
                  <h3 class="font-bold">TVS CREDIT</h3>
                  <p class="text-gray-400 text-sm">Dealer Code: CD40104</p>
                </div>
                <div class="ml-auto partner-radio w-5 h-5 border border-gray-400 rounded-full flex items-center justify-center">
                  <div class="partner-radio-dot hidden w-3 h-3 rounded-full bg-blue-400"></div>
                </div>
              </div>

            </div>

          </div>

        </div>

      </div>

    </div>
    <!-- END DEALER INFORMATION -->



    <!-- =================== TABLE SECTION =================== -->

    <div class="bg-gray-800/90 rounded-2xl p-6 w-full max-w-[1400px] border border-gray-700/50 shadow-xl">

      <h2 class="text-lg font-semibold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-300 pb-2 border-b border-gray-700">
        FINANCE & LOAN MANAGEMENT
      </h2>

      <div class="text-gray-400 text-sm mt-2 mb-4">
        Last update from SmartBiller: <span id="lastUpdateTime">—</span>
      </div>

      <div class="overflow-x-auto mb-6">
        <table class="min-w-full text-left text-gray-200 border border-gray-700 rounded-lg text-sm">

          <thead class="bg-gray-700/80 text-gray-300 uppercase">
            <tr>
              <th class="py-3 px-4">Loan No</th>
              <th class="py-3 px-4">Partner</th>
              <th class="py-3 px-4">Customer</th>
              <th class="py-3 px-4">EMI</th>
              <th class="py-3 px-4">Paid</th>
              <th class="py-3 px-4">Pending</th>
              <th class="py-3 px-4">Down Pay</th>
              <th class="py-3 px-4">Disbursement</th>
              <th class="py-3 px-4">Product</th>
              <th class="py-3 px-4">Amount</th>
              <th class="py-3 px-4">Status</th>
              <th class="py-3 px-4">Remarks</th>
              <th class="py-3 px-4">Verified</th>
              <th class="py-3 px-4">More</th>
            </tr>
          </thead>

          <tbody id="loanTable" class="divide-y divide-gray-700">

            <!-- IDFC Row -->
            <tr class="premium-table-row" data-partner="IDFC FIRST BANK" data-nextemi="2025-11-22T10:00:00">
              <td class="px-4 py-3">LN1001</td>
              <td class="px-4 py-3 emi-partner"><img src="IDFC FIRST BANK.png" class="bank-logo"></td>
              <td class="px-4 py-3">Rahul Sharma</td>
              <td class="px-4 py-3">₹ 6,000 × 6</td>
              <td class="px-4 py-3 text-green-400 font-bold">6</td>
              <td class="px-4 py-3 text-yellow-300 font-bold">0</td>
              <td class="px-4 py-3">₹ 10,000</td>
              <td class="px-4 py-3">₹ 75,000</td>
              <td class="px-4 py-3">Samsung A15</td>
              <td class="px-4 py-3">₹ 85,000</td>
              <td class="px-4 py-3 text-green-400 font-semibold">Active</td>
              <td class="px-4 py-3">On Time</td>
              <td class="px-4 py-3 text-green-400 text-lg font-bold">✔</td>
              <td class="px-4 py-3"><button class="details-btn px-3 py-1 rounded bg-blue-600 text-white text-xs">More</button></td>
            </tr>

            <tr class="details-box"><td colspan="14" class="px-6 py-3">Contact: +91 9876543210 | Kolkata</td></tr>

            <!-- TVS Row -->
            <tr class="premium-table-row" data-partner="TVS CREDIT" data-nextemi="2025-11-15T09:00:00">
              <td class="px-4 py-3">LN1002</td>
              <td class="px-4 py-3 emi-partner"><img src="TVS Credit.png" class="bank-logo"></td>
              <td class="px-4 py-3">Priya Das</td>
              <td class="px-4 py-3">₹ 5,000 × 8</td>
              <td class="px-4 py-3 text-green-400 font-bold">5</td>
              <td class="px-4 py-3 text-yellow-300 font-bold">3</td>
              <td class="px-4 py-3">₹ 8,000</td>
              <td class="px-4 py-3">₹ 50,000</td>
              <td class="px-4 py-3">Realme 12 Pro</td>
              <td class="px-4 py-3">₹ 62,000</td>
              <td class="px-4 py-3 text-yellow-400 font-semibold">Pending</td>
              <td class="px-4 py-3">Next EMI: 15 Nov</td>
              <td class="px-4 py-3 text-yellow-300 text-lg font-bold">—</td>
              <td class="px-4 py-3"><button class="details-btn px-3 py-1 rounded bg-blue-600 text-white text-xs">More</button></td>
            </tr>
            <tr class="details-box"><td colspan="14" class="px-6 py-3">Contact: +91 9123456789 | Howrah</td></tr>

          </tbody>

        </table>
      </div>

      <!-- NEXT EMI REMINDER -->
      <div id="emiReminder" class="glass-effect border border-gray-600 rounded-xl p-4 flex items-center justify-between">
        <div class="flex items-center gap-3">
          <svg class="w-6 h-6 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <span id="emiMessage" class="font-medium">Next EMI due —</span>
        </div>
        <button id="viewSchedule" class="px-4 py-2 rounded bg-yellow-500 text-black">View Schedule</button>
      </div>

    </div>

  </main>


  <!-- SCRIPT -->
  <script>
    const partnerOptions=document.querySelectorAll('.partner-option');
    const dealerCode=document.getElementById('dealerCode');
    const lastUpdateTime=document.getElementById('lastUpdateTime');
    const emiMessage=document.getElementById('emiMessage');
    const emiReminder=document.getElementById('emiReminder');
    const loanRows=[...document.querySelectorAll('#loanTable tr[data-nextemi]')];

    function setLastUpdate(){
      lastUpdateTime.textContent=new Date().toLocaleString('en-IN',{dateStyle:'medium',timeStyle:'short'});
    }
    setLastUpdate();

    function nearestEMI(filter){
      let now=new Date(),near=null;
      loanRows.forEach(r=>{
        if(filter && r.dataset.partner!==filter) return;
        let dt=new Date(r.dataset.nextemi);
        if(dt>=now && (!near || dt<new Date(near.date)))
          near={date:r.dataset.nextemi,name:r.cells[2].innerText,partner:r.dataset.partner,row:r};
      });
      return near;
    }

    function updateReminder(filter){
      let n=nearestEMI(filter);
      if(!n){emiMessage.innerHTML="No upcoming EMI.";emiReminder.classList.remove('pulse-warning');return;}
      let dt=new Date(n.date),now=new Date();
      let days=Math.ceil((dt-now)/(24*60*60*1000));
      emiMessage.innerHTML=`Next EMI on <span class='text-yellow-400'>${dt.toLocaleString('en-IN',{dateStyle:'medium',timeStyle:'short'})}</span> for <span class='text-blue-400'>${n.name}</span> (${n.partner})`;
      emiReminder.classList.toggle('pulse-warning',days<=3);
    }
    updateReminder();

    partnerOptions.forEach(option=>{
      option.addEventListener('click',()=>{
        document.querySelectorAll('.partner-radio-dot').forEach(d=>d.classList.add('hidden'));
        option.querySelector('.partner-radio-dot').classList.remove('hidden');

        let partner=option.dataset.partner;
        let logo=option.dataset.logo;
        let dealer=option.dataset.dealer;
        dealerCode.textContent=dealer;

        document.querySelectorAll('.emi-partner img').forEach(img=>img.src=logo);
        lastUpdateTime.textContent=new Date().toLocaleString('en-IN',{dateStyle:'medium',timeStyle:'short'});

        updateReminder(partner);
      });
    });

    document.querySelectorAll('.details-btn').forEach((btn,i)=>{
      btn.addEventListener('click',()=>{
        let box=document.querySelectorAll('.details-box')[i];
        box.classList.toggle('active');
        btn.textContent=box.classList.contains('active')?'Hide':'More';
      });
    });
  </script>

</body>
</html>
